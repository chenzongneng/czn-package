<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ 广州丰石科技有限公司拥有本软件版权2017并保留所有权利。
  ~ Copyright 2017, Guangzhou Rich Stone Data Technologies Company Limited,
  ~ All rights reserved.
  -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.richstonedt.garnet.modules.api.dao.UserDao">

	<insert id="save" parameterType="com.richstonedt.garnet.modules.api.entity.UserEntity" useGeneratedKeys="true"
			keyProperty="userId">
			insert into gar_tb_user
			<set>
				<if test="username != null and username != ''">
					username = #{username},
				</if>
				<if test="mobile != null and mobile != ''">
					mobile = #{mobile},
				</if>
				<if test="password != null and password != ''">
					password = #{password},
				</if>
				<if test="createTime != null and createTime != ''">
					create_time = #{createTime}
				</if>
			</set>
	</insert>

	<select id="queryObject" resultType="com.richstonedt.garnet.modules.api.entity.UserEntity">
		select * from gar_tb_user where user_id = #{value}
	</select>

	<select id="queryByMobile" resultType="com.richstonedt.garnet.modules.api.entity.UserEntity">
		select * from gar_tb_user where mobile = #{value}
	</select>

</mapper>